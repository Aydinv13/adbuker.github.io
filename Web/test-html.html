<html>
<body>

    <iframe style="left:0px;top:0px;width:500px;height:400px;" src="./test-event-recovery-child.html"></iframe>

    <div id="overlay" style="left:0px;top:0px;width:100%;height:100%;position:absolute;z-index:2147483646;"></div>

    <button style="position:absolute;z-index:2147483647;left:0px;top:500px;" onclick="shouldModifyTargetWithinEventHandler = ! shouldModifyTargetWithinEventHandler;">Toggle target modification within an event handler</button>

    
<!-- Start: injected by Adguard -->
<script src="//local.adguard.com/adguard-ajax-api/injections/content-script.js?ts=63664659384971&amp;domain=testcases.adguard.com&amp;mask=111" nonce="0433996647f84ffbbd823dc41d91423e" type="text/javascript"></script>
<script src="//local.adguard.com/adguard-ajax-api/injections/userscripts.js?ts=63664609807953&name=Adguard%20Assistant%20Beta&name=Popup%20Blocker%20by%20AdGuard%20(Beta)" nonce="0433996647f84ffbbd823dc41d91423e" type="text/javascript"></script>

<!-- End: injected by Adguard -->
<script>
        var shouldModifyTargetWithinEventHandler = false;
        var overlayEl = overlay;
        overlayEl.onclick = function(evt) {
            window.open('about:blank', '_blank');
            if (shouldModifyTargetWithinEventHandler) {
                document.body.removeChild(overlayEl);
                setTimeout(function() {
                    document.body.appendChild(overlayEl);
                }, 300);
            }
            evt.preventDefault();
        }
    </script>

</body>
</html>